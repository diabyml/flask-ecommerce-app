{% extends "base.html" %} {% block content %}
<div class="container mx-auto px-6">
  <header class="flex items-center justify-between">
    <h1 class="text-xl uppercase text-indigo-500 font-bold">Admin</h1>
    <div>
      <a
        href="/admin/add"
        class="inline-block bg-indigo-500 px-4 py-2 uppercase text-sm tracking-wide text-white rounded-full focus:outline:none focus:ring"
        >Add Product</a
      >
    </div>
  </header>

  <!-- list of products -->
  <ul class="container mx-auto flex items-center flex-wrap pt-4 pb-12">
    <!-- {% for p in products %}
    <div class="w-full md:w-1/3 xl:w-1/4 p-6 flex flex-col">
      <a href="/admin/dashboard/{{p['id']}}">
        <img
          class="hover:grow hover:shadow-lg"
          src="{{ url_for('display_image', filename=p['unique_filename']) }}"
        />
        <div class="pt-3 flex items-center justify-between">
          <p class="">{{p['name']}}</p>
        </div>
        <p class="pt-1 text-gray-900">{{p['price']}} FCFA</p>
      </a>
      <div class="mt-6">
        <button
          data-id="{{ p['id'] }}"
          class="admin-btn-delete w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600"
        >
          Effacer
        </button>
      </div>
    </div>
    {% endfor %}  -->
    {% for p in products %}
    <li class="w-full md:w-1/3 xl:w-1/4 p-6 flex flex-col">
      <div>
        <a href="/admin/dashboard/{{p['id']}}">
          <div>
            <img
              src="{{ url_for('display_image', filename=p['unique_filename']) }}"
              class="hover:grow hover:shadow-lg"
            />
            <div class="pt-3 flex items-center justify-between">
              <p class="">{{p['name']}}</p>
            </div>
            <p class="pt-1 text-gray-900">{{p['price']}} FCFA</p>
          </div>
        </a>
        <div class="mt-6">
          <button
            data-id="{{ p['id'] }}"
            class="admin-btn-delete w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600"
          >
            Effacer
          </button>
        </div>
      </div>
    </li>
    {% endfor %}
  </ul>
</div>

<!-- delete product modal -->

<!-- container  -->
<div class="w-full h-full fixed left-0 top-0 z-9999 p-4 hidden modal-container">
  <!-- backdrop -->

  <!-- container overlay -->
  <div
    class="w-full h-full fixed left-0 top-0 -z-10 bg-overlay modal-overlay"
  ></div>

  <!-- main content -->
  <div
    class="bg-white absolute left-4 right-4 top-1/4 max-w-md mx-auto rounded-md border"
  >
    <!-- Header -->
    <div class="flex justify-between border-b py-2 px-4">
      <!-- Title -->
      <h1>Effacer</h1>
      <!-- Close icon sticks to the right -->
      <button class="admin-close-modal">close</button>
    </div>

    <!-- Content -->
    <div class="px-4 py-5">Voulez-vous vraiment effacer ce produit ?</div>

    <!-- Footer -->
    <div class="flex justify-end border-t py-2 px-4 space-x-4">
      <button class="admin-cancel-delete-product">Annuler</button>
      <button class="admin-btn-delete-product">Effacer</button>
    </div>
  </div>
</div>

{% endblock %}
